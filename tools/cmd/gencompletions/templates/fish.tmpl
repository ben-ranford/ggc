# fish completion for ggc
# Code generated by go run tools/cmd/gencompletions/main.go; DO NOT EDIT.

function __ggc_complete_branches
    ggc __complete branch 2>/dev/null
end

function __ggc_complete_files
    ggc __complete files 2>/dev/null
end

# Main commands
complete -c ggc -f -a "{{ .TopLevelList }}"

{{- range .Commands }}
{{- $cmd := . }}
{{- if and $cmd.SubcommandList (ne $cmd.Name "add") }}
complete -c ggc -f -n "__fish_seen_subcommand_from {{ $cmd.Name }}" -a "{{ $cmd.SubcommandList }}"
{{- end }}
{{- range $cmd.Subcommands }}
{{- if and (gt (len .Keywords) 0) (not .SkipKeyword) }}
complete -c ggc -f -n "__fish_seen_subcommand_from {{ $cmd.Name }}; and __fish_seen_subcommand_from {{ .Name }}" -a "{{ .KeywordList }}"
{{- end }}
{{- end }}
{{- end }}

# Branch checkout needs both keyword and dynamic branch names
complete -c ggc -f -n "__fish_seen_subcommand_from branch; and __fish_seen_subcommand_from checkout" -a "{{ if .BranchCheckoutKeywordList }}{{ .BranchCheckoutKeywordList }} {{ end }}(__ggc_complete_branches)"

# Rebase branch completion when not using a subcommand
complete -c ggc -f -n "__fish_seen_subcommand_from rebase; and not __fish_seen_subcommand_from interactive; and not __fish_seen_subcommand_from continue; and not __fish_seen_subcommand_from abort; and not __fish_seen_subcommand_from skip" -a "(__ggc_complete_branches)"

# Add subcommands also allow file completion
complete -c ggc -f -n "__fish_seen_subcommand_from add" -a "{{ with index .CommandMap "add" }}{{ .SubcommandList }}{{ end }}"
complete -c ggc -f -n "__fish_seen_subcommand_from add" -a "(__ggc_complete_files)"
